<app-navigation-bar></app-navigation-bar>
<div class="profile">
  <div class="grid">
    <mat-card>
      <mat-card-content>
        <mat-card-title>Your Profile</mat-card-title>
        <form class="profile-form">
          <mat-form-field>
            <input
              matInput
              [(ngModel)]="userData.Username"
              placeholder="Username"
              type="text"
              name="Username"
              required />
          </mat-form-field>
          <mat-form-field>
            <input
              matInput
              [(ngModel)]="userData.Password"
              type="password"
              placeholder="Password"
              name="Password"
              required />
          </mat-form-field>
          <mat-form-field>
            <input
              matInput
              [(ngModel)]="userData.Email"
              type="email"
              placeholder="Email"
              name="Email"
              required />
          </mat-form-field>
          <mat-form-field>
            <input
              matInput
              [(ngModel)]="userData.Birthday"
              type="birthday"
              placeholder="Birthday"
              name="Birthday"
              required />
          </mat-form-field>
          <mat-card-actions>
            <button
              class="infobutton"
              mat-raised-button
              (click)="editUserInfo()"
              color="primary">
              Update Info
            </button>
            <button
              class="infobutton"
              mat-raised-button
              (click)="deleteUserProfile()"
              color="primary">
              Delete Account
            </button>
          </mat-card-actions>
        </form>
      </mat-card-content>
    </mat-card>
  </div>
</div>

<div class="favoriteMovies">
  <div class="favoriteMovies-header">
    <h2>Favorite Movies</h2>
  </div>

  <div class="movies-header" style="display: flex">
    <mat-card *ngFor="let movie of favMovies" style="flex: 1 1 auto">
      <mat-card-header>
        <mat-card-title>{{ movie.Title }}</mat-card-title>
        <mat-card-subtitle
          >Directed by: {{ movie.Director.Name }}</mat-card-subtitle
        >
      </mat-card-header>
      <img src="{{ movie.ImagePath }}" alt="{{ movie.Title }}" />
      <mat-card-actions>
        <button
          mat-button
          color="primary"
          (click)="openGenre(movie.Genre.Name, movie.Genre.Description)">
          Genre
        </button>
        <button
          mat-button
          color="primary"
          (click)="openDirector(movie.Director.Name, movie.Director.Bio)">
          Director
        </button>
        <button
          mat-button
          color="primary"
          (click)="openSynopsis(movie.Description)">
          Synopsis
        </button>

        <button
          *ngIf="isFavorite(movie._id)"
          (click)="removeFavorite(movie._id)">
          <mat-icon>favorite</mat-icon>
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
